<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>MoeChat 移动语音客户端</title>
  <link rel="stylesheet" href="static/moechat_style.css">
</head>
<body class="light-mode">
  <!-- MoeChat Logo - 顶部中央 -->
  <div class="header">
    <img src="static/Moechat_text.png" alt="MoeChat TEXT" class="logo">
  </div>
  
  <!-- 主题切换按钮 -->
  <label class="switch">
    <input type="checkbox" class="input" id="themeToggle" />
    <span class="slider">
      <span class="sun">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width: 10px; height: 10px;">
          <path fill="#FDB813" d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zm10.48 0l1.8-1.79 1.41 1.41-1.79 1.8-1.42-1.42zM12 4V1h-1v3h1zm0 19v-3h-1v3h1zm8-9h3v-1h-3v1zm-19 0h3v-1H1v1zm16.24 5.16l1.79 1.8 1.42-1.42-1.8-1.79-1.41 1.41zM4.84 17.24l-1.79 1.8 1.41 1.41 1.8-1.79-1.42-1.42zM12 6a6 6 0 1 1 0 12A6 6 0 0 1 12 6z"/>
        </svg>
      </span>
      <span class="moon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width: 10px; height: 10px;">
          <path fill="#333" d="M9.37 5.51a8.38 8.38 0 0 0 9.12 11.55 8.38 8.38 0 1 1-9.12-11.55z"/>
        </svg>
      </span>
    </span>
  </label>

  <!-- 清空按钮 - 右上角 -->
  <button id="clearBtn" class="button clear-button" onclick="this.classList.add('active'); setTimeout(() => this.classList.remove('active'), 500)">
    <svg viewBox="0 0 448 512" class="svgIcon">
      <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9 45L416 128z"></path>
    </svg>
  </button>

  <!-- 聊天区域 -->
  <div id="chatLog" class="chat-container"></div>

  <div id="christmasOverlay" style="display: none;"></div>

  <!-- 隐藏的音频播放器 -->
  <audio id="audioPlayer" controls style="display: none;"></audio>

  <!-- 模式状态显示 - 聊天区域和输入框之间 -->
  <div class="mode-info">
    <span id="modeStatus">当前模式：手动录音</span>
    <button id="toggleModeBtn" class="mode-toggle-btn">切换自动识别模式</button>
  </div>

  <!-- 底部输入区域 -->
  <div class="bottom-controls">
    <!-- 录音按钮 -->
    <button id="recordBtn" class="like-button record-button"></button>
    
    <!-- 输入区域 -->
    <div class="input-group">
      <input type="text" id="manualInput" class="input text-input" placeholder="输入文字代替语音...">
      <button id="manualSend" class="send-button">发送</button>
    </div>
  </div>

  <!-- 隐藏的控制元素 - 保持JS兼容性 -->
  <input type="checkbox" id="checkboxInput" style="display: none;">
  <label for="checkboxInput" class="toggleSwitch" id="muteToggle" style="display: none;"></label>
  <script src="static/confetti.browser.min.js"></script>
  <script src="static/fireworks.js"></script>

  <div id="frostOverlay"></div>
  <!--<script src="static/rain_effect.js"></script>>-->
  <div id="crackOverlay"></div>
  <div id="lanternOverlay" style="display: none;"></div>
  <div id="halloweenOverlay" style="display: none;"></div>
  <script src="static/moechat_core.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const checkbox = document.getElementById('themeToggle');
      checkbox.addEventListener('change', () => {
        const isDark = checkbox.checked;
        document.body.classList.toggle('dark-mode', isDark);
        document.body.classList.toggle('light-mode', !isDark);
      });
    });
  </script>


</body>
</html>
